<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<div class="container py-5">
  <div class="row mb-4">
    <h4 class="mb-0 col-6">Your saved favorite ads</h4>
  </div>

  <div class="row">
    <form class="form-details col-12">
      <div class="mb-3" *ngIf="favoriteAds.length != 0">

        <div *ngFor="let ad of favoriteAds; last as isLast;">

          <ngb-accordion>
            <ngb-panel>
              <ng-template ngbPanelHeader>

                <div class="d-flex align-items-center justify-content-between">
                  <div *ngIf="!isMobile">
                    <button ngbPanelToggle class="btn m-0">{{ad.location}}</button>
                  </div>
                  <div *ngIf="windowWidth > 470 && windowWidth < 992">
                    <button ngbPanelToggle class="btn m-0">{{shortenLocation(ad.location, 'small')}}</button>
                  </div>
                  <div *ngIf="windowWidth < 471">
                    <button ngbPanelToggle class="btn m-0">{{shortenLocation(ad.location, 'extra-small')}}</button>
                  </div>
                  <div>
                    <div *ngIf="isMobile">
                      <button class="btn btn-danger ml-1 btn-sm" (click)="removeAdFromFavorites(ad)">
                        <i class="material-icons">delete</i>
                      </button>
                    </div>
                    <div *ngIf="!isMobile">
                      <button class="btn btn-danger ml-1 btn-sm" (click)="removeAdFromFavorites(ad)">
                        Delete
                      </button>
                    </div>
                  </div>
                </div>
              </ng-template>
              <ng-template ngbPanelContent>
                <form class="form-ad col-12">
                  <div class="row">

                    <img class="col-lg-4 mb-3 picture-div" src="{{ad.picture}}">
                    <div class="col-lg-4">
                      <h4>Specifications</h4>
                      <hr>
                      <div class="row mt-3 mr-0 ml-0">
                        <div class="bold col-6 ml-0">Rooms:</div>
                        <div class="right col-6 mr-0">{{ad.property.roomNumber}}</div>
                      </div>
                      <hr>
                      <div class="row mr-0 ml-0">
                        <div class="bold col-6 ml-0">Size:</div>
                        <div class="right col-6 mr-0">{{ad.property.size}} m<sup>2</sup></div>
                      </div>
                      <hr>
                      <div class="row mr-0 ml-0">
                        <div class="bold col-6">Price:</div>
                        <div class="right col-6">${{ad.price}}</div>
                      </div>
                      <hr>
                      <div class="row mr-0 ml-0">
                        <div class="bold col-6">Built from:</div>
                        <div class="right col-6">{{ad.property.type}}</div>
                      </div>
                      <hr>
                      <div class="row mr-0 ml-0">
                        <div class="bold col-6">State:</div>
                        <div class="right col-6">{{ad.property.state}}</div>
                      </div>

                      <br>
                    </div>

                    <div class="col-lg-4">
                      <h4>Property description</h4>
                      <hr>
                      <p>{{ad.details}}</p>
                    </div>
                  </div>
                </form>
              </ng-template>
            </ngb-panel>
          </ngb-accordion>

          <br *ngIf="!isLast">
        </div>

      </div>
      <h2 class="mt-4 mb-4 text-center text-muted" *ngIf="favoriteAds.length == 0">Currently you have no favorite ads
      </h2>
    </form>
  </div>
</div>